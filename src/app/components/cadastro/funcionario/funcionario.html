<div class="form-container">
  <form #formPessoa="ngForm" (ngSubmit)="onSubmit(formPessoa)">
    <h2>Cadastro de Funcionário</h2>

    <label for="nome">Nome Completo:</label><br>
    <input type="text" id="nome" name="nome" [(ngModel)]="user.nome" required><br>

    <label for="cpf">CPF:</label><br>
    <input
      type="text"
      id="cpf"
      name="cpf"
      maxlength="14"
      (input)="mascaraCPF($event)"
      [(ngModel)]="user.cpf"
      placeholder="000.000.000-00"
      required><br>

    <label for="dtNascimento">Data de Nascimento:</label><br>
    <input type="date" id="dtNascimento" name="dtNascimento" [(ngModel)]="user.dtNascimento" required><br><br>

    <label>Sexo:</label><br>
    <label>
      <input type="radio" name="sexo" value="MASCULINO" [(ngModel)]="user.sexo"> Masculino
    </label><br>
    <label>
      <input type="radio" name="sexo" value="FEMININO" [(ngModel)]="user.sexo"> Feminino
    </label><br>
    <label>
      <input type="radio" name="sexo" value="OUTRO" [(ngModel)]="user.sexo"> Outro
    </label><br><br>

<label for="funcao">Função:</label><br>
<select id="funcao" name="funcao" [(ngModel)]="user.funcao" required>
  <option value="" disabled selected>Selecione uma função</option>
  <option value="ADMINISTRADOR">Administrador</option>
  <option value="BIBLIOTECARIO">Bibliotecário</option>
</select><br><br>

    <label for="email">E-mail:</label><br>
    <input 
      type="email" 
      id="email" 
      name="email" 
      [(ngModel)]="user.email" 
      required 
      pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
      #emailInput="ngModel"><br>
    <span *ngIf="emailInput.invalid && emailInput.touched" style="color: red; font-size: 0.85em;">
      Email inválido. Use o formato: exemplo@email.com
    </span><br><br>

    <label for="telefone">Telefone:</label><br>
    <input type="tel" id="telefone" name="telefone" [(ngModel)]="user.telefone" required><br><br>

    <label for="logradouro">Endereço</label><br>
    <input type="text" id="logradouro" name="logradouro" [(ngModel)]="user.endereco.nomeLogradouro" required><br><br>

    <label for="numero">Número:</label><br>
    <input type="text" id="numero" name="numero" [(ngModel)]="user.endereco.numero" required><br><br>

    <label for="complemento">Complemento:</label><br>
    <input type="text" id="complemento" name="complemento" [(ngModel)]="user.endereco.complemento"><br><br>

    <label for="bairro">Bairro:</label><br>
    <input type="text" id="bairro" name="bairro" [(ngModel)]="user.endereco.bairro" required><br><br>

    <label for="cep">CEP:</label><br>
    <input type="text" id="cep" name="cep" maxlength="8" placeholder="00000-000" [(ngModel)]="user.endereco.cep" required><br><br>

    <label for="cidade">Cidade:</label><br>
    <input type="text" id="cidade" name="cidade" [(ngModel)]="user.endereco.cidade" required><br><br>

    <label for="idEstado">Estado (UF):</label><br>
    <select id="idEstado" name="idEstado" [(ngModel)]="user.endereco.idEstado" required>
      <option value="">Selecione um estado</option>
      <option *ngFor="let estado of estados" [value]="estado.idEstado">{{ estado.nome }}</option>
    </select><br><br>

      <label for="senha">Senha:</label><br>
      <input type="password" id="senha" name="senha" [(ngModel)]="user.senha" required><br><br>

    <div style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;">
      <button type="button" (click)="cancelar()">Cancelar</button>
      <button type="submit">Salvar</button>
    </div>
  </form>
</div>


