<section class="cadastro-section">
  <form #formPessoa="ngForm" (ngSubmit)="onSubmit(formPessoa)">
    <h2>Cadastre-se</h2>

<label>Nome completo:</label><br>
<input 
  type="text" 
  name="nome" 
  [(ngModel)]="user.nome" 
  required
  pattern="^[A-Za-zÀ-ÖØ-öø-ÿ ]+$"
  #nomeInput="ngModel"
><br>
<span *ngIf="nomeInput.invalid && nomeInput.touched" style="color: red; font-size: 0.85em;">
  O nome deve conter apenas letras e espaços, sem caracteres especiais.
</span><br>

    <label>CPF:</label><br>
    <input
      type="text"
      name="cpf"
      maxlength="14"
      placeholder="000.000.000-00"
      (input)="mascaraCPF($event)"
      [(ngModel)]="user.cpf"
      required><br>

    <label>Data de Nascimento:</label><br>
    <input type="date" id="dtNascimento" name="dtNascimento" [(ngModel)]="user.dtNascimento">

    <label for="sexo">Sexo:</label><br>
    <select id="sexo" name="sexo" [(ngModel)]="user.sexo" required>
      <option value="">Selecione</option>
      <option value="MASCULINO">Masculino</option>
      <option value="FEMININO">Feminino</option>
      <option value="OUTRO">Outro</option>
    </select><br>

    <label>E-mail:</label><br>
    <input type="email" name="email" [(ngModel)]="user.email" required><br>

    <label>Telefone:</label><br>
    <input 
      type="tel" 
      name="telefone" 
      [(ngModel)]="user.telefone" 
      (input)="mascaraTelefone($event)"
      pattern="[0-9]*" 
      minlength="10" 
      maxlength="11" 
      placeholder="(00) 00000-0000"
      required
      #telefoneInput="ngModel"><br>
    <span *ngIf="telefoneInput.invalid && telefoneInput.touched" style="color: red; font-size: 0.85em;">
      Telefone deve conter apenas números (10-11 dígitos)
    </span><br>

    <label>Endereço:</label><br>
    <input type="text" name="nomeLogradouro" [(ngModel)]="user.endereco.nomeLogradouro" required><br>

    <label>Número:</label><br>
    <input type="text" name="numero" [(ngModel)]="user.endereco.numero" required><br>

    <label>Complemento:</label><br>
    <input type="text" name="complemento" [(ngModel)]="user.endereco.complemento"><br>

    <label>Bairro:</label><br>
    <input type="text" name="bairro" [(ngModel)]="user.endereco.bairro" required><br>

    <label>Cidade:</label><br>
    <input type="text" name="cidade" [(ngModel)]="user.endereco.cidade" required><br>

    <label>Estado (UF):</label><br>
    <select name="idEstado" [(ngModel)]="user.endereco.idEstado" required>
      <option value="">Selecione um estado</option>
      <option *ngFor="let estado of estados" [value]="estado.idEstado">{{ estado.nome }}</option>
    </select><br>

    <label>CEP:</label><br>
    <input type="text" name="cep" maxlength="8" placeholder="00000-000" [(ngModel)]="user.endereco.cep" required><br>

    <label>Senha:</label><br>
    <input type="password" name="senha" [(ngModel)]="user.senha" required><br>

    <div class="cadastro-buttons">
      <button type="button" class="btn btn-cancelar" (click)="cancelar()">Cancelar</button>
      <button type="submit" class="btn btn-salvar">Salvar</button>
    </div>
  </form>
</section>
